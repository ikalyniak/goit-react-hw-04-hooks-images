{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","ImageGalleryItem","props","src","alt","onModal","largeImg","className","styles","onClick","ImageGalleryItemImage","Button","loadMore","type","modalRoot","document","querySelector","Modal","modalImg","modalImgALT","useEffect","window","addEventListener","handleKeydown","removeEventListener","e","code","createPortal","Overlay","currentTarget","target","API_KEY","BASE_URL","STATUS","ImageGallery","searchQuery","useState","images","setImages","page","setPage","status","setStatus","error","setError","showModal","setShowModal","modalImageURL","setModalImageURL","modalImageALT","setModalImageALT","fetch","then","response","json","data","hits","length","toast","catch","message","finally","scrolling","state","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","url","inscription","loader","color","height","width","timeout","map","image","webformatURL","largeImageURL","tags","id","Searchbar","searchInput","setSearchInput","query","setQuery","SearchForm","onSubmit","event","preventDefault","trim","SearchFormButton","SearchFormButtonLabel","onChange","value","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","App","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3f7c16fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem(props) {\n  const { src, alt, onModal, largeImg } = props;\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => onModal(largeImg, alt)}\n    >\n      <img src={src} alt={alt} className={styles.ImageGalleryItemImage} />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  largeImg: PropTypes.string.isRequired,\n  alt: PropTypes.string.isRequired,\n  openModal: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport styles from './Button.module.css';\n\nfunction Button({ loadMore }) {\n  return (\n    <button type=\"button\" className={styles.Button} onClick={loadMore}>\n      Load more...\n    </button>\n  );\n}\nButton.propTypes = {\n  onClick: PropTypes.func,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default function Modal({ modalImg, modalImgALT, onModal }) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeydown);\n    return () => {\n      window.removeEventListener('keydown', handleKeydown);\n    };\n  });\n\n  const handleKeydown = e => {\n    if (e.code === 'Escape') {\n      onModal();\n    }\n  };\n  const handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      onModal();\n    }\n  };\n\n  return createPortal(\n    <div className={styles.Overlay} onClick={handleBackdropClick}>\n      <div className={styles.Modal}>\n        <img src={modalImg} alt={modalImgALT} />\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nModal.propTypes = {\n  onModal: PropTypes.func.isRequired,\n  modalImg: PropTypes.string.isRequired,\n  modalImgALT: PropTypes.string.isRequired,\n};\n","import { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport Modal from '../Modal/Modal';\nimport styles from './ImageGallery.module.css';\n\nconst API_KEY = '22540552-ad6fedb3f5750c17229d327bb';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst STATUS = {\n  idle: 'idle',\n  pending: 'pending',\n  rejected: 'rejected',\n  resolved: 'resolved',\n};\n\nexport default function ImageGallery({ searchQuery }) {\n  const [images, setImages] = useState([]);\n  const [page, setPage] = useState(1);\n  const [status, setStatus] = useState(STATUS.idle);\n  const [error, setError] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [modalImageURL, setModalImageURL] = useState('');\n  const [modalImageALT, setModalImageALT] = useState('');\n\n  useEffect(() => {\n    if (searchQuery !== '') {\n      setStatus(STATUS.pending);\n      setPage(1);\n\n      fetch(\n        `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(response => response.json())\n        .then(data => {\n          if (data.hits.length > 0) {\n            setImages([...data.hits]);\n            setStatus(STATUS.resolved);\n          } else toast.error(`no data on your request '${searchQuery}'`);\n        })\n        .catch(error => {\n          setStatus(STATUS.rejected);\n          setError(error);\n          setImages([]);\n\n          toast.error(`${error.message}`);\n        })\n        .finally(() => {\n          scrolling();\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchQuery]);\n\n  useEffect(() => {\n    if (page > 1) {\n      setStatus(STATUS.pending);\n\n      fetch(\n        `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n        .then(response => response.json())\n        .then(data => {\n          if (data.hits.length > 0) {\n            setImages(state => [...state, ...data.hits]);\n            setStatus(STATUS.resolved);\n          } else toast.error(`no data on your request '${searchQuery}'`);\n        })\n        .catch(error => {\n          setStatus(STATUS.rejected);\n          setError(error);\n          setImages([]);\n\n          toast.error(`${error.message}`);\n        })\n        .finally(() => {\n          scrolling();\n        });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page]);\n\n  const scrolling = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  const handleLoadMore = () => {\n    setPage(state => state + 1);\n  };\n\n  const toggleModal = (url, alt) => {\n    setShowModal(!showModal);\n    setModalImageURL(url);\n    setModalImageALT(alt);\n  };\n\n  if (status === STATUS.idle) {\n    return <h2 className={styles.inscription}>Please type your query!</h2>;\n  }\n\n  if (status === STATUS.pending) {\n    return (\n      <div className={styles.loader}>\n        <Loader\n          type=\"ThreeDots\"\n          color=\"#00BFFF\"\n          height={80}\n          width={80}\n          timeout={3000}\n        />\n      </div>\n    );\n  }\n\n  if (status === STATUS.rejected) {\n    return <h2 className={styles.inscription}>{error.message}</h2>;\n  }\n\n  if (status === STATUS.resolved) {\n    return (\n      <>\n        <ul className={styles.ImageGallery}>\n          {images.map(image => (\n            <ImageGalleryItem\n              key={image.id}\n              src={image.webformatURL}\n              largeImg={image.largeImageURL}\n              onModal={toggleModal}\n              alt={image.tags}\n            />\n          ))}\n        </ul>\n        <Button loadMore={handleLoadMore} />\n        {showModal && (\n          <Modal\n            onModal={toggleModal}\n            modalImg={modalImageURL}\n            modalImgALT={modalImageALT}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = { searchQuery: PropTypes.string };\n","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\n\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport styles from './Searchbar.module.css';\n\nexport default function Searchbar() {\n  const [searchInput, setSearchInput] = useState('');\n  const [query, setQuery] = useState('');\n\n  const handleInput = event => {\n    setSearchInput(event.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    if (searchInput.trim() === '') {\n      return toast.error('Please type your query!');\n    }\n\n    setQuery(searchInput);\n    setSearchInput('');\n  };\n\n  return (\n    <>\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            onChange={handleInput}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={searchInput}\n          />\n        </form>\n      </header>\n      <ImageGallery searchQuery={query} />\n    </>\n  );\n}\n\nSearchbar.propTypes = { onSubmit: PropTypes.func };\n","// import { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Searchbar from './components/Searchbar/Searchbar';\nimport './App.css';\n\nexport default function App() {\n  return (\n    <div className=\"App\">\n      <Searchbar />\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\",\"SearchForm-input\":\"Searchbar_SearchForm-input__j6qzO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\",\"loader\":\"ImageGallery_loader__2MCw-\",\"inscription\":\"ImageGallery_inscription__pQbl2\"};"],"sourceRoot":""}