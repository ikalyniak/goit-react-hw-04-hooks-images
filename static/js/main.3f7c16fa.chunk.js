(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{12:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3CvRl",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__2bkPr"}},13:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2AxMb",Modal:"Modal_Modal__2WBTT"}},15:function(e,t,a){e.exports={Button:"Button_Button__3R1xi"}},20:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(5),o=a.n(n),s=(a(20),a(4)),l=(a(21),a(3)),i=a(10),u=a(14),m=a.n(u),b=a(12),h=a.n(b),j=a(1);function d(e){var t=e.src,a=e.alt,c=e.onModal,r=e.largeImg;return Object(j.jsx)("li",{className:h.a.ImageGalleryItem,onClick:function(){return c(r,a)},children:Object(j.jsx)("img",{src:t,alt:a,className:h.a.ImageGalleryItemImage})})}var g=a(15),O=a.n(g);var f=function(e){var t=e.loadMore;return Object(j.jsx)("button",{type:"button",className:O.a.Button,onClick:t,children:"Load more..."})},p=a(13),_=a.n(p),y=document.querySelector("#modal-root");function S(e){var t=e.modalImg,a=e.modalImgALT,r=e.onModal;Object(c.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&r()};return Object(n.createPortal)(Object(j.jsx)("div",{className:_.a.Overlay,onClick:function(e){e.currentTarget===e.target&&r()},children:Object(j.jsx)("div",{className:_.a.Modal,children:Object(j.jsx)("img",{src:t,alt:a})})}),y)}var x=a(8),I=a.n(x),v="22540552-ad6fedb3f5750c17229d327bb",F="https://pixabay.com/api/",w="idle",N="pending",B="rejected",G="resolved";function M(e){var t=e.searchQuery,a=Object(c.useState)([]),r=Object(l.a)(a,2),n=r[0],o=r[1],u=Object(c.useState)(1),b=Object(l.a)(u,2),h=b[0],g=b[1],O=Object(c.useState)(w),p=Object(l.a)(O,2),_=p[0],y=p[1],x=Object(c.useState)(null),M=Object(l.a)(x,2),k=M[0],L=M[1],C=Object(c.useState)(!1),T=Object(l.a)(C,2),q=T[0],E=T[1],P=Object(c.useState)(""),A=Object(l.a)(P,2),D=A[0],R=A[1],z=Object(c.useState)(""),H=Object(l.a)(z,2),J=H[0],Q=H[1];Object(c.useEffect)((function(){""!==t&&(y(N),g(1),fetch("".concat(F,"?q=").concat(t,"&page=").concat(h,"&key=").concat(v,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){e.hits.length>0?(o(Object(i.a)(e.hits)),y(G)):s.b.error("no data on your request '".concat(t,"'"))})).catch((function(e){y(B),L(e),o([]),s.b.error("".concat(e.message))})).finally((function(){U()})))}),[t]),Object(c.useEffect)((function(){h>1&&(y(N),fetch("".concat(F,"?q=").concat(t,"&page=").concat(h,"&key=").concat(v,"&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(e){e.hits.length>0?(o((function(t){return[].concat(Object(i.a)(t),Object(i.a)(e.hits))})),y(G)):s.b.error("no data on your request '".concat(t,"'"))})).catch((function(e){y(B),L(e),o([]),s.b.error("".concat(e.message))})).finally((function(){U()})))}),[h]);var U=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},W=function(e,t){E(!q),R(e),Q(t)};return _===w?Object(j.jsx)("h2",{className:I.a.inscription,children:"Please type your query!"}):_===N?Object(j.jsx)("div",{className:I.a.loader,children:Object(j.jsx)(m.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80,timeout:3e3})}):_===B?Object(j.jsx)("h2",{className:I.a.inscription,children:k.message}):_===G?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:I.a.ImageGallery,children:n.map((function(e){return Object(j.jsx)(d,{src:e.webformatURL,largeImg:e.largeImageURL,onModal:W,alt:e.tags},e.id)}))}),Object(j.jsx)(f,{loadMore:function(){g((function(e){return e+1}))}}),q&&Object(j.jsx)(S,{onModal:W,modalImg:D,modalImgALT:J})]}):void 0}var k=a(6),L=a.n(k);function C(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(""),o=Object(l.a)(n,2),i=o[0],u=o[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("header",{className:L.a.Searchbar,children:Object(j.jsxs)("form",{className:L.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===a.trim())return s.b.error("Please type your query!");u(a),r("")},children:[Object(j.jsx)("button",{type:"submit",className:L.a.SearchFormButton,children:Object(j.jsx)("span",{className:L.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{onChange:function(e){r(e.currentTarget.value.toLowerCase())},className:L.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a})]})}),Object(j.jsx)(M,{searchQuery:i})]})}a(43);function T(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(C,{}),Object(j.jsx)(s.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}o.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(T,{})}),document.getElementById("root"))},6:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchFormButton:"Searchbar_SearchFormButton__21S85",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__8f9cn",SearchFormInput:"Searchbar_SearchFormInput__VhsfU","SearchForm-input":"Searchbar_SearchForm-input__j6qzO"}},8:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__DncjJ",loader:"ImageGallery_loader__2MCw-",inscription:"ImageGallery_inscription__pQbl2"}}},[[44,1,2]]]);
//# sourceMappingURL=main.3f7c16fa.chunk.js.map